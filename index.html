<!DOCTYPE html>
<html lang="ur">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tajush Sharia Library</title>

<link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu&display=swap" rel="stylesheet">

<style>
body { margin:0; font-family:"Noto Nastaliq Urdu", serif; direction:rtl; background:#f9f9f9; text-align:center; }

/* Header */
header { background:linear-gradient(to right,#004d40,#00695c); color:white; padding:40px 10px 40px 50px; border-bottom:4px solid #00796b; position:relative; }
.urdu-name{font-size:42px;font-weight:bold;margin-bottom:10px;}
.english-name{font-size:20px;color:#c8e6c9;font-family:"Poppins",sans-serif;}
.description{font-size:16px;color:#e0f2f1;margin:15px auto;max-width:600px;line-height:1.5;}
#favoritesIcon{position:absolute;top:20px;left:20px;font-size:28px;cursor:pointer;color:#ffeb3b;transition:transform 0.2s;}
#favoritesIcon:hover{transform:scale(1.2);}

/* Search */
.search-container{margin:20px auto; max-width:500px;}
input[type="text"]{width:80%;padding:10px;border:2px solid #00796b;border-radius:5px;font-size:18px;text-align:right;}

/* Book of the Day */
#bookOfDay{max-width:700px;background:#fff;border-radius:12px;padding:20px;margin:30px auto;box-shadow:0 4px 10px rgba(0,0,0,0.1);border-top:5px solid #00796b;}
#bookOfDay img{width:120px;border-radius:10px;}
#bookOfDay h3{margin-top:10px;font-size:22px;}
#bookOfDay .book-author{color:#555;font-size:14px;margin-bottom:10px;}
#bookOfDay button{background:#00796b;color:white;border:none;padding:8px 20px;border-radius:5px;cursor:pointer;}
#bookOfDay button:hover{background:#004d40;}

/* Categories */
#categories{max-width:900px;margin:20px auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:20px;padding:0 20px;}
.category-card{background:white;border:1px solid #ddd;border-radius:10px;padding:15px;cursor:pointer;transition:transform 0.3s;}
.category-card:hover{transform:scale(1.05);}

/* Books */
.book-section{max-width:900px;margin:40px auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:20px;padding:0 20px;}
.book-card{background:white;border:1px solid #ddd;border-radius:10px;box-shadow:0 2px 5px rgba(0,0,0,0.1);padding:10px;transition:transform 0.3s;cursor:pointer;position:relative;}
.book-card:hover{transform:scale(1.05);}
.book-card img{width:100%;border-radius:8px;}
.book-title{margin-top:10px;font-size:18px;font-weight:bold;}
.book-author{font-size:14px;color:#555;margin-top:5px;}
.favorite-btn{position:absolute;top:8px;left:8px;font-size:22px;color:#ffeb3b;cursor:pointer;}
.favorite-btn.favorited{color:#f44336;}
.highlight{background:yellow;}

/* Modals */
#bookModal,#favoritesModal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);justify-content:center;align-items:center;z-index:1000;}
#bookModalContent,#favoritesModalContent{background:white;padding:20px;border-radius:10px;max-width:400px;width:90%;text-align:center;position:relative;}
#closeModal,#closeFavorites{position:absolute;top:10px;right:15px;cursor:pointer;font-size:20px;}
#readOnline,#downloadBook{text-decoration:none;color:white;padding:10px 20px;border-radius:5px;margin:5px;}
#readOnline{background:#004d40;}#downloadBook{background:#00796b;}
</style>
</head>
<body>

<header>
<div class="urdu-name">ØªØ§Ø¬ Ø§Ù„Ø´Ø±ÛŒØ¹Û Ù„Ø§Ø¦Ø¨Ø±ÛŒØ±ÛŒ</div>
<div class="english-name">Tajush Sharia Library</div>
<div class="description">ÛŒÛ Ù…ÙØª Ø¢Ù† Ù„Ø§Ø¦Ù† Ù„Ø§Ø¦Ø¨Ø±ÛŒØ±ÛŒ ÛÛ’ Ø¬ÛØ§Úº Ø¯ÛŒÙ†ÛŒØŒ Ø§Ø±Ø¯Ùˆ Ø§ÙˆØ± Ø¹Ø±Ø¨ÛŒ Ú©ØªØ§Ø¨ÛŒÚº Ø¢Ø³Ø§Ù†ÛŒ Ø³Û’ Ù¾Ú‘Ú¾ÛŒ Ø§ÙˆØ± ÚˆØ§Ø¤Ù†Ù„ÙˆÚˆ Ú©ÛŒ Ø¬Ø§ Ø³Ú©ØªÛŒ ÛÛŒÚºÛ”</div>
<div id="favoritesIcon" title="Ù…ÛŒØ±ÛŒ Ù¾Ø³Ù†Ø¯ÛŒØ¯Û Ú©ØªØ§Ø¨ÛŒÚº">â­</div>
</header>

<div class="search-container">
<input type="text" id="searchInput" placeholder="Ú©ØªØ§Ø¨ ØªÙ„Ø§Ø´ Ú©Ø±ÛŒÚº...">
</div>

<h2>ğŸ“– Ø¢Ø¬ Ú©ÛŒ Ú©ØªØ§Ø¨</h2>
<div id="bookOfDay"></div>

<h2>ğŸ“‚ Ú©ØªØ§Ø¨ÙˆÚº Ú©ÛŒ Ø§Ù‚Ø³Ø§Ù…</h2>
<div id="categories">
<div class="category-card" data-category="Darsi">Ø¯Ø±Ø³ÛŒ Ú©ØªØ§Ø¨ÛŒÚº (Darsi Kitaben)</div>
<div class="category-card" data-category="GhairDarsi">ØºÛŒØ± Ø¯Ø±Ø³ÛŒ Ú©ØªØ§Ø¨ÛŒÚº (Ghair Darsi Kitaben)</div>
</div>

<h2>ğŸ“š Ù†Ù…Ø§ÛŒØ§Úº Ú©ØªØ§Ø¨ÛŒÚº</h2>
<div id="bookList" class="book-section"></div>

<!-- Book Modal -->
<div id="bookModal">
<div id="bookModalContent">
<span id="closeModal">&times;</span>
<img id="modalImage" src="" alt="" style="width:100%; border-radius:5px; margin-bottom:10px;">
<h3 id="modalTitle"></h3>
<div class="book-author" id="modalAuthor"></div>
<div style="margin-top:15px;">
<a id="readOnline" href="#" target="_blank">Read Online</a>
<a id="downloadBook" href="#" target="_blank">Download</a>
</div>
</div>
</div>

<!-- Favorites Modal -->
<div id="favoritesModal">
<div id="favoritesModalContent">
<span id="closeFavorites">&times;</span>
<h3>Ù…ÛŒØ±ÛŒ Ù¾Ø³Ù†Ø¯ÛŒØ¯Û Ú©ØªØ§Ø¨ÛŒÚº</h3>
<div id="favoritesList"></div>
</div>
</div>

<script>
const books=[
{titleUrdu:"ØµØ­ÛŒØ­ Ø§Ù„Ø¨Ø®Ø§Ø±ÛŒ",titleRoman:"Sahih al-Bukhari",author:"(Ø¹Ø±Ø¨ÛŒ)",image:"https://via.placeholder.com/150",readLink:"#",downloadLink:"#",category:"Darsi"},
{titleUrdu:"ØµØ­ÛŒØ­ Ù…Ø³Ù„Ù…",titleRoman:"Sahih Muslim",author:"(Ø¹Ø±Ø¨ÛŒ)",image:"https://via.placeholder.com/150",readLink:"#",downloadLink:"#",category:"Darsi"},
{titleUrdu:"Ú©Ù†Ø²Ø§Ù„Ø§ÛŒÙ…Ø§Ù†",titleRoman:"Kanz-ul-Iman",author:"",image:"https://via.placeholder.com/150",readLink:"#",downloadLink:"#",category:"Darsi"},
{titleUrdu:"Ø³Ù†Ù† Ø§Ù„ØªØ±Ù…Ø°ÛŒ",titleRoman:"Sunan al-Tirmidhi",author:"(Ø¹Ø±Ø¨ÛŒ)",image:"https://via.placeholder.com/150",readLink:"#",downloadLink:"#",category:"Darsi"},
{titleUrdu:"ÙØªØ§ÙˆÛŒÙ° Ø±Ø¶ÙˆÛŒÛ",titleRoman:"Fatawa-e-Rizvia",author:"",image:"https://via.placeholder.com/150",readLink:"#",downloadLink:"#",category:"GhairDarsi"},
{titleUrdu:"Ø¨ÛØ§Ø± Ø´Ø±ÛŒØ¹Øª",titleRoman:"Bahar-e-Shariat",author:"",image:"https://via.placeholder.com/150",readLink:"#",downloadLink:"#",category:"GhairDarsi"}];

let favorites=[];

const bookList=document.getElementById("bookList");
const bookOfDay=document.getElementById("bookOfDay");
const searchInput=document.getElementById("searchInput");
const modal=document.getElementById("bookModal");
const favoritesModal=document.getElementById("favoritesModal");
const modalImage=document.getElementById("modalImage");
const modalTitle=document.getElementById("modalTitle");
const modalAuthor=document.getElementById("modalAuthor");
const readOnline=document.getElementById("readOnline");
const downloadBook=document.getElementById("downloadBook");
const closeModal=document.getElementById("closeModal");
const closeFavorites=document.getElementById("closeFavorites");
const favoritesIcon=document.getElementById("favoritesIcon");
const favoritesList=document.getElementById("favoritesList");

/* Book of the Day */
function showBookOfDay(){
let today=new Date().getDate();
let index=today%books.length;
let book=books[index];
bookOfDay.innerHTML=`<img src="${book.image}" alt="${book.titleUrdu}">
<h3>${book.titleUrdu} (${book.titleRoman})</h3>
<div class="book-author">${book.author}</div>
<button onclick="openModal(${index})">Ù…Ø²ÛŒØ¯ Ø¯ÛŒÚ©Ú¾ÛŒÚº</button>`;
}

/* Display Books */
function displayBooks(filteredBooks,query=""){
bookList.innerHTML="";
filteredBooks.forEach((book,index)=>{
let favClass=favorites.includes(index)?"favorited":"";
let titleHtml=book.titleUrdu+" ("+book.titleRoman+")";
if(query) titleHtml=titleHtml.replace(new RegExp(`(${query})`,"gi"),`<span class="highlight">$1</span>`);
let div=document.createElement("div");
div.classList.add("book-card");
div.innerHTML=`<span class="favorite-btn ${favClass}" data-index="${index}">â­</span>
<img src="${book.image}" alt="${book.titleUrdu}">
<div class="book-title">${titleHtml}</div>
<div class="book-author">${book.author}</div>`;
div.querySelector(".favorite-btn").addEventListener("click",e=>{
e.stopPropagation();
const idx=parseInt(e.target.getAttribute("data-index"));
favorites.includes(idx)?favorites=favorites.filter(f=>f!==idx):favorites.push(idx);
displayBooks(filteredBooks,query);
});
div.addEventListener("click",()=>openModal(index));
bookList.appendChild(div);
});
}

/* Modal */
function openModal(index){
let book=books[index];
modal.style.display="flex";
modalImage.src=book.image;
modalTitle.textContent=book.titleUrdu+" ("+book.titleRoman+")";
modalAuthor.textContent=book.author;
readOnline.href=book.readLink;
downloadBook.href=book.downloadLink;
}

closeModal.onclick=()=>{modal.style.display="none";}
window.onclick=(e)=>{if(e.target==modal) modal.style.display="none";}

/* Favorites Modal */
favoritesIcon.onclick=()=>{
favoritesModal.style.display="flex";
updateFavoritesModal();
};
closeFavorites.onclick=()=>{favoritesModal.style.display="none";}
window.onclick=(e)=>{if(e.target==favoritesModal) favoritesModal.style.display="none";}
function updateFavoritesModal(){
favoritesList.innerHTML="";
if(favorites.length===0){favoritesList.innerHTML="<p>Ú©ÙˆØ¦ÛŒ Ù¾Ø³Ù†Ø¯ÛŒØ¯Û Ú©ØªØ§Ø¨ Ù†ÛÛŒÚº ÛÛ’Û”</p>";return;}
favorites.forEach(idx=>{
let book=books[idx];
let div=document.createElement("div");
div.style.margin="10px 0";
div.innerHTML=`${book.titleUrdu} (${book.titleRoman}) <span style="color:red;cursor:pointer;" data-index="${idx}">âŒ</span>`;
div.querySelector("span").onclick=(e)=>{
e.stopPropagation();
favorites=favorites.filter(f=>f!==idx);
updateFavoritesModal();
displayBooks(books,searchInput.value);
};
favoritesList.appendChild(div);
});
}

/* Search */
searchInput.addEventListener("input",()=>{
let query=searchInput.value.trim();
let filtered=query?books.filter(b=>b.titleUrdu.includes(query)||b.titleRoman.toLowerCase().includes(query.toLowerCase())):books;
displayBooks(filtered,query);
});

/* Categories */
document.querySelectorAll(".category-card").forEach(card=>{
card.addEventListener("click",()=>{
let cat=card.getAttribute("data-category");
displayBooks(books.filter(b=>b.category===cat));
});
});

/* Initial Load */
showBookOfDay();
displayBooks(books);
</script>
</body>
</html>